{% extends 'base.html' %}

{% block title %}
    Display Meme
{% endblock %}


{% block header %}
    <h1>Display Meme</h1>
{% endblock %}

{% block content %}
<img class="rounded border mx-auto block w-full sm:w-1/3 shadow" src="{{ meme_image }}" alt="meme" id="meme-image">
<script>
  if (navigator.share) {
    document.write(`
      <div class="text-center">
        <button onclick="shareMeme()" class="sm:text-2xl mx-auto border px-6 m-2 bg-indigo-300 hover:bg-indigo-600 hover:text-white shadow">Share</button>
      </div>
    `);
  }
</script>

<script>
function shareMeme() {
  if (navigator.share) {
    navigator.share({
      // title: 'Check out this meme!',
      // text: 'I found a funny meme to share with you!',
      url: document.getElementById('meme-image').src
    })
    .then(() => console.log('Successful share'))
    .catch(error => console.log('Error sharing:', error));
  }
}
</script>
<br>


<h2>Find Similar Memes</h2>
<hr>
<div id="similar-memes" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mx-auto justify-center m-10">
{% for image in images %}
<a href="/meme/{{image.id}}">
   <img class="w-64 border" src="{{ image.url }}" alt="meme" >
</a>
{% endfor %}
</div>
{% endblock %}
